from tests.test_with_single_game.conftest import BBREF_GAME_ID
from vigorish.data.game_data import GameData
from vigorish.enums import DefensePosition


def test_game_data(vig_app):
    game_data = GameData(vig_app, BBREF_GAME_ID)
    away_team_id = game_data.away_team_id
    home_team_id = game_data.home_team_id
    assert away_team_id == "LAA"
    assert home_team_id == "TOR"
    assert game_data.away_team.team_id_br == away_team_id
    assert game_data.home_team.team_id_br == home_team_id

    pitch_app_player_ids = game_data.pitch_stats_player_ids
    bat_stats_player_ids = game_data.bat_stats_player_ids
    pitch_app_player_id = pitch_app_player_ids[0]
    result = game_data.view_valid_at_bats_for_pitcher(pitch_app_player_id)
    assert result.success
    bat_stats_player_id = bat_stats_player_ids[0]
    result = game_data.view_valid_at_bats_for_batter(bat_stats_player_id)
    assert result.success

    away_team_bat_boxscore = game_data.bat_boxscore[away_team_id]
    away_team_lineup_1 = away_team_bat_boxscore[1]
    assert away_team_lineup_1["team_id"] == "LAA"
    assert away_team_lineup_1["name"] == "Tommy La Stella"
    assert away_team_lineup_1["bbref_id"] == "lasteto01"
    assert away_team_lineup_1["mlb_id"] == 600303
    assert away_team_lineup_1["def_position"] == DefensePosition.SECOND_BASE
    assert away_team_lineup_1["at_bats"] == "0/4"
    assert away_team_lineup_1["bat_stats"] == "R, 2K, BB"
    assert away_team_lineup_1["stats_to_date"] == ".296/.354/.515/.869"

    away_team_bat_boxscore_again = game_data.bat_boxscore[away_team_id]
    assert away_team_bat_boxscore_again is away_team_bat_boxscore

    home_team_bat_boxscore = game_data.bat_boxscore[home_team_id]
    home_team_lineup_1 = home_team_bat_boxscore[1]
    assert home_team_lineup_1["team_id"] == "TOR"
    assert home_team_lineup_1["name"] == "Eric Sogard"
    assert home_team_lineup_1["bbref_id"] == "sogarer01"
    assert home_team_lineup_1["mlb_id"] == 519299
    assert home_team_lineup_1["def_position"] == DefensePosition.DH
    assert home_team_lineup_1["at_bats"] == "2/5"
    assert home_team_lineup_1["bat_stats"] == "R"
    assert home_team_lineup_1["stats_to_date"] == ".294/.361/.485/.845"

    home_team_bat_boxscore_again = game_data.bat_boxscore[home_team_id]
    assert home_team_bat_boxscore_again is home_team_bat_boxscore

    away_team_pitch_boxscore = game_data.pitch_boxscore[away_team_id]
    away_team_sp = away_team_pitch_boxscore["SP"]
    assert away_team_sp["team_id"] == "LAA"
    assert away_team_sp["name"] == "Luis Garcia"
    assert away_team_sp["mlb_id"] == 472610
    assert away_team_sp["bbref_id"] == "garcilu03"
    assert away_team_sp["pitch_app_type"] == "SP"
    assert away_team_sp["game_results"] == "1.0 IP (1ER, H, K, GS: 48)"

    away_team_pitch_boxscore_again = game_data.pitch_boxscore[away_team_id]
    assert away_team_pitch_boxscore_again is away_team_pitch_boxscore

    home_team_pitch_boxscore = game_data.pitch_boxscore[home_team_id]
    home_team_sp = home_team_pitch_boxscore["SP"]
    assert home_team_sp["team_id"] == "TOR"
    assert home_team_sp["name"] == "Derek Law"
    assert home_team_sp["mlb_id"] == 571882
    assert home_team_sp["bbref_id"] == "lawde01"
    assert home_team_sp["pitch_app_type"] == "SP"
    assert home_team_sp["game_results"] == "1.0 IP (0ER, 2K, GS: 55)"

    home_team_pitch_boxscore_again = game_data.pitch_boxscore[home_team_id]
    assert home_team_pitch_boxscore_again is home_team_pitch_boxscore

    game_meta_data_viewer = game_data.view_game_meta_info()
    assert game_meta_data_viewer

    result = game_data.view_at_bats_by_inning()
    assert result.success

    mlb_id_str = str(bat_stats_player_id)
    result = game_data.validate_mlb_id(mlb_id_str)
    assert result.success
    mlb_id = result.value
    assert mlb_id == bat_stats_player_id

    result = game_data.validate_mlb_id("derek jeter")
    assert result.failure
    assert 'derek jeter" could not be parsed as a valid int' in result.error

    result = game_data.validate_mlb_id(543257)
    assert result.failure
    assert "Error: Player MLB ID: 543257 did not appear in game TOR201906170" in result.error

    pitch_mix_viewer = game_data.view_pitch_mix_batter_stance_splits(571882)
    assert pitch_mix_viewer

    pitch_mix_viewer = game_data.view_pitch_mix_season_splits(571882)
    assert pitch_mix_viewer

    pitch_mix_viewer = game_data.view_pd_pitch_type_splits_for_pitcher(571882)
    assert pitch_mix_viewer

    pitch_mix_viewer = game_data.view_bb_pitch_type_splits_for_pitcher(571882)
    assert pitch_mix_viewer

    pitch_mix_viewer = game_data.view_bat_stats_pitch_type_splits_for_pitcher(571882)
    assert pitch_mix_viewer

    matchup = game_data.get_matchup_details()
    assert matchup == (
        "Monday, June 17 2019 07:07 PM (UTC-04:00)\n"
        "Los Angeles Angels of Anaheim (36-37) vs Toronto Blue Jays (26-46)\n"
        "WP: Felix Pena (LAA) LP: Edwin Jackson (TOR)\n"
    )

    tui_linescore = game_data.get_tui_linescore()
    assert "LAA   0   7   1   0   1   1   0   0   0  10  13   1" in tui_linescore
    assert "TOR   1   0   0   0   0   0   2   2   0   5   8   0" in tui_linescore

    game_data_for_api = game_data.get_game_data()
    assert game_data_for_api == {
        "game_id": "TOR201906170",
        "linescore": [
            {
                "inning_numbers": [1, 2, 3, 4, 5, 6, 7, 8, 9],
                "game_totals": ["R", "H", "E"],
                "away_team_id": "LAA",
                "away_team_runs_by_inning": [0, 7, 1, 0, 1, 1, 0, 0, 0],
                "away_team_totals": [10, 13, 1],
                "home_team_id": "TOR",
                "home_team_runs_by_inning": [1, 0, 0, 0, 0, 0, 2, 2, 0],
                "home_team_totals": [5, 8, 0],
                "extra_innings": False,
            }
        ],
        "pitcher_results": {
            "wp": {"mlb_id": 570240, "name": "Felix Pena", "team_id": "LAA"},
            "lp": {"mlb_id": 429719, "name": "Edwin Jackson", "team_id": "TOR"},
        },
        "extra_innings": False,
    }

    boxscore_data = game_data.get_boxscore_data()
    check_away_team_batting = {
        1: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_TOR_571882_ANA_600303_0",
                    "batter_name": "Tommy La Stella",
                    "inning": "t1",
                    "outs": 0,
                    "pbp_table_row_number": 1,
                    "pitch_sequence": "CBCBS",
                    "pitcher_name": "Derek Law",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_600303_0",
                    "batter_name": "Tommy La Stella",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 19,
                    "pitch_sequence": "BBBB",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Walk; Lucroy to 3B; Tovar to 2B",
                    "runners_on_base": "12-",
                },
                {
                    "at_bat_id": "TOR201906170_03_TOR_543208_ANA_600303_0",
                    "batter_name": "Tommy La Stella",
                    "inning": "t3",
                    "outs": 2,
                    "pbp_table_row_number": 37,
                    "pitch_sequence": "SCB>T",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_600303_0",
                    "batter_name": "Tommy La Stella",
                    "inning": "t6",
                    "outs": 1,
                    "pbp_table_row_number": 70,
                    "pitch_sequence": "FX",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Flyball: LF (Deep LF Line)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_600303_0",
                    "batter_name": "Tommy La Stella",
                    "inning": "t8",
                    "outs": 0,
                    "pbp_table_row_number": 99,
                    "pitch_sequence": ".FBSBX",
                    "pitcher_name": "Tim Mayza",
                    "play_description": "Groundout: 2B-1B (2B-1B)",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 1,
            "bat_stats": "R, 2K, BB",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.52,
                "avg_to_date": 0.296,
                "bases_on_balls": 1,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.354,
                "ops_to_date": 0.869,
                "plate_appearances": 5,
                "rbis": 0,
                "re24_bat": -0.6,
                "runs_scored": 1,
                "slg_to_date": 0.515,
                "strikeouts": 2,
                "total_pitches": 20,
                "total_strikes": 11,
                "wpa_bat": 0.0,
                "wpa_bat_neg": -0.027,
                "wpa_bat_pos": 0.027,
            },
            "bbref_id": "lasteto01",
            "def_position": 4,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 600303,
            "name": "Tommy La Stella",
            "stats_to_date": ".296/.354/.515/.869",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        2: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_TOR_571882_ANA_545361_0",
                    "batter_name": "Mike Trout",
                    "inning": "t1",
                    "outs": 1,
                    "pbp_table_row_number": 2,
                    "pitch_sequence": "BFBCX",
                    "pitcher_name": "Derek Law",
                    "play_description": "Lineout: LF (Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_545361_0",
                    "batter_name": "Mike Trout",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 20,
                    "pitch_sequence": "BCX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Double "
                    "to LF "
                    "(Line "
                    "Drive "
                    "to "
                    "Deep "
                    "LF-CF); "
                    "Lucroy "
                    "Scores; "
                    "Tovar "
                    "Scores; "
                    "La\xa0"
                    "Stella "
                    "to 3B",
                    "runners_on_base": "123",
                },
                {
                    "at_bat_id": "TOR201906170_04_TOR_543208_ANA_545361_0",
                    "batter_name": "Mike Trout",
                    "inning": "t4",
                    "outs": 0,
                    "pbp_table_row_number": 45,
                    "pitch_sequence": "BCBX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Single to LF (Line Drive to Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_545361_0",
                    "batter_name": "Mike Trout",
                    "inning": "t6",
                    "outs": 2,
                    "pbp_table_row_number": 71,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Home Run (Fly Ball to Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_545361_0",
                    "batter_name": "Mike Trout",
                    "inning": "t8",
                    "outs": 1,
                    "pbp_table_row_number": 100,
                    "pitch_sequence": "CBFBX",
                    "pitcher_name": "Tim Mayza",
                    "play_description": "Single to RF (Ground Ball thru 2B-1B)",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "4/5",
            "bat_order": 2,
            "bat_stats": "HR, 2B, 3RBI, 2R, CS",
            "bbref_data": {
                "at_bats": 5,
                "avg_lvg_index": 0.62,
                "avg_to_date": 0.296,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "HR"}, {"count": 1, "stat": "2B"}, {"count": 1, "stat": "CS"}],
                "hits": 4,
                "obp_to_date": 0.461,
                "ops_to_date": 1.096,
                "plate_appearances": 5,
                "rbis": 3,
                "re24_bat": 2.9,
                "runs_scored": 2,
                "slg_to_date": 0.635,
                "strikeouts": 0,
                "total_pitches": 19,
                "total_strikes": 11,
                "wpa_bat": 0.145,
                "wpa_bat_neg": -0.021,
                "wpa_bat_pos": 0.166,
            },
            "bbref_id": "troutmi01",
            "def_position": 8,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 545361,
            "name": "Mike Trout",
            "stats_to_date": ".296/.461/.635/.096",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        3: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_TOR_571882_ANA_660271_0",
                    "batter_name": "Shohei Ohtani",
                    "inning": "t1",
                    "outs": 2,
                    "pbp_table_row_number": 3,
                    "pitch_sequence": "CCBFFBS",
                    "pitcher_name": "Derek Law",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_660271_0",
                    "batter_name": "Shohei Ohtani",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 21,
                    "pitch_sequence": "X",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Home "
                    "Run "
                    "(Fly "
                    "Ball "
                    "to "
                    "Deep "
                    "LF "
                    "Line); "
                    "La\xa0"
                    "Stella "
                    "Scores; "
                    "Trout "
                    "Scores",
                    "runners_on_base": "-23",
                },
                {
                    "at_bat_id": "TOR201906170_04_TOR_543208_ANA_660271_0",
                    "batter_name": "Shohei Ohtani",
                    "inning": "t4",
                    "outs": 0,
                    "pbp_table_row_number": 46,
                    "pitch_sequence": "B1CBBF>C",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Double "
                    "Play: "
                    "Strikeout "
                    "Looking, "
                    "Trout "
                    "Caught "
                    "Stealing "
                    "2B "
                    "(C-SS)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_660271_0",
                    "batter_name": "Shohei Ohtani",
                    "inning": "t6",
                    "outs": 2,
                    "pbp_table_row_number": 72,
                    "pitch_sequence": "BBFFX",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Double to CF (Line Drive to Deep CF-RF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_660271_0",
                    "batter_name": "Shohei Ohtani",
                    "inning": "t8",
                    "outs": 1,
                    "pbp_table_row_number": 101,
                    "pitch_sequence": "X",
                    "pitcher_name": "Tim Mayza",
                    "play_description": "Groundout: SS unassisted/Forceout at 2B (SS-2B)",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "2/5",
            "bat_order": 3,
            "bat_stats": "HR, 2B, 3RBI, R, 2K",
            "bbref_data": {
                "at_bats": 5,
                "avg_lvg_index": 0.4,
                "avg_to_date": 0.283,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "HR"}, {"count": 1, "stat": "2B"}],
                "hits": 2,
                "obp_to_date": 0.353,
                "ops_to_date": 0.867,
                "plate_appearances": 5,
                "rbis": 3,
                "re24_bat": 1.9,
                "runs_scored": 1,
                "slg_to_date": 0.514,
                "strikeouts": 2,
                "total_pitches": 20,
                "total_strikes": 13,
                "wpa_bat": 0.121,
                "wpa_bat_neg": -0.015,
                "wpa_bat_pos": 0.136,
            },
            "bbref_id": "ohtansh01",
            "def_position": 10,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 660271,
            "name": "Shohei Ohtani",
            "stats_to_date": ".283/.353/.514/.867",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        4: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_457708_0",
                    "batter_name": "Justin Upton",
                    "inning": "t2",
                    "outs": 0,
                    "pbp_table_row_number": 13,
                    "pitch_sequence": ".X",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Home Run (Fly Ball to Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_457708_1",
                    "batter_name": "Justin Upton",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 22,
                    "pitch_sequence": "BBCSFFFFFBX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Single to LF (Line Drive to Deep 3B)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_04_TOR_543208_ANA_457708_0",
                    "batter_name": "Justin Upton",
                    "inning": "t4",
                    "outs": 2,
                    "pbp_table_row_number": 47,
                    "pitch_sequence": "BBBCX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Groundout: SS-1B",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_457708_0",
                    "batter_name": "Justin Upton",
                    "inning": "t6",
                    "outs": 2,
                    "pbp_table_row_number": 73,
                    "pitch_sequence": "*BB*BB",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Walk",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_457708_0",
                    "batter_name": "Justin Upton",
                    "inning": "t8",
                    "outs": 2,
                    "pbp_table_row_number": 102,
                    "pitch_sequence": "CBSBX",
                    "pitcher_name": "Tim Mayza",
                    "play_description": "Lineout: CF (CF-RF)",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "2/4",
            "bat_order": 4,
            "bat_stats": "HR, RBI, R, BB",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.22,
                "avg_to_date": 0.5,
                "bases_on_balls": 1,
                "details": [{"count": 1, "stat": "HR"}],
                "hits": 2,
                "obp_to_date": 0.6,
                "ops_to_date": 1.85,
                "plate_appearances": 5,
                "rbis": 1,
                "re24_bat": 0.9,
                "runs_scored": 1,
                "slg_to_date": 1.25,
                "strikeouts": 0,
                "total_pitches": 26,
                "total_strikes": 14,
                "wpa_bat": 0.102,
                "wpa_bat_neg": -0.002,
                "wpa_bat_pos": 0.104,
            },
            "bbref_id": "uptonju01",
            "def_position": 7,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 457708,
            "name": "Justin Upton",
            "stats_to_date": ".500/.600/.250/.850",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        5: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_594777_0",
                    "batter_name": "Kole Calhoun",
                    "inning": "t2",
                    "outs": 0,
                    "pbp_table_row_number": 14,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Home Run (Fly Ball to Deep RF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_543208_ANA_594777_0",
                    "batter_name": "Kole Calhoun",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 24,
                    "pitch_sequence": ".CX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Groundout: 2B-1B (2B-1B)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_05_TOR_543208_ANA_594777_0",
                    "batter_name": "Kole Calhoun",
                    "inning": "t5",
                    "outs": 0,
                    "pbp_table_row_number": 57,
                    "pitch_sequence": "X",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Ground-rule Double (Fly Ball to Deep RF Line)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_594777_0",
                    "batter_name": "Kole Calhoun",
                    "inning": "t6",
                    "outs": 2,
                    "pbp_table_row_number": 74,
                    "pitch_sequence": "CF*S",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "12-",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_594777_0",
                    "batter_name": "Kole Calhoun",
                    "inning": "t9",
                    "outs": 0,
                    "pbp_table_row_number": 117,
                    "pitch_sequence": ".SBBBB",
                    "pitcher_name": "Daniel Hudson",
                    "play_description": "Walk",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "2/4",
            "bat_order": 5,
            "bat_stats": "HR, 2B, RBI, 2R, K, BB",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.26,
                "avg_to_date": 0.235,
                "bases_on_balls": 1,
                "details": [{"count": 1, "stat": "HR"}, {"count": 1, "stat": "2B"}],
                "hits": 2,
                "obp_to_date": 0.327,
                "ops_to_date": 0.809,
                "plate_appearances": 5,
                "rbis": 1,
                "re24_bat": 1.3,
                "runs_scored": 2,
                "slg_to_date": 0.482,
                "strikeouts": 1,
                "total_pitches": 13,
                "total_strikes": 8,
                "wpa_bat": 0.101,
                "wpa_bat_neg": -0.007,
                "wpa_bat_pos": 0.108,
            },
            "bbref_id": "calhoko01",
            "def_position": 9,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 594777,
            "name": "Kole Calhoun",
            "stats_to_date": ".235/.327/.482/.809",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        6: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_664058_0",
                    "batter_name": "David Fletcher",
                    "inning": "t2",
                    "outs": 0,
                    "pbp_table_row_number": 15,
                    "pitch_sequence": "BBCBX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Groundout: 3B-1B (SS-3B Hole)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_03_TOR_543208_ANA_664058_0",
                    "batter_name": "David Fletcher",
                    "inning": "t3",
                    "outs": 0,
                    "pbp_table_row_number": 33,
                    "pitch_sequence": "CCX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Groundout: P-1B (Front of Home)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_05_TOR_543208_ANA_664058_0",
                    "batter_name": "David Fletcher",
                    "inning": "t5",
                    "outs": 0,
                    "pbp_table_row_number": 58,
                    "pitch_sequence": "X",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Flyball: CF (Deep LF-CF); Calhoun to 3B",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "batter_name": "David Fletcher",
                    "inning": "t7",
                    "outs": 0,
                    "pbp_table_row_number": 84,
                    "pitch_sequence": "....BBBB",
                    "pitcher_name": "David Phelps",
                    "play_description": "Walk",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_664058_0",
                    "batter_name": "David Fletcher",
                    "inning": "t9",
                    "outs": 0,
                    "pbp_table_row_number": 118,
                    "pitch_sequence": "CBFX",
                    "pitcher_name": "Daniel Hudson",
                    "play_description": "Lineout: CF-SS/Forceout at 2B (Deep CF-RF)",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 6,
            "bat_stats": "BB",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.22,
                "avg_to_date": 0.303,
                "bases_on_balls": 1,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.355,
                "ops_to_date": 0.788,
                "plate_appearances": 5,
                "rbis": 0,
                "re24_bat": -0.7,
                "runs_scored": 0,
                "slg_to_date": 0.433,
                "strikeouts": 0,
                "total_pitches": 17,
                "total_strikes": 9,
                "wpa_bat": -0.028,
                "wpa_bat_neg": -0.028,
                "wpa_bat_pos": 0.0,
            },
            "bbref_id": "fletcda02",
            "def_position": 5,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 664058,
            "name": "David Fletcher",
            "stats_to_date": ".303/.355/.433/.788",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        7: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_571506_0",
                    "batter_name": "Justin Bour",
                    "inning": "t2",
                    "outs": 1,
                    "pbp_table_row_number": 16,
                    "pitch_sequence": "BBBX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Flyball: CF (Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_03_TOR_543208_ANA_571506_0",
                    "batter_name": "Justin Bour",
                    "inning": "t3",
                    "outs": 1,
                    "pbp_table_row_number": 34,
                    "pitch_sequence": "X",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Double to LF (Fly Ball to Deep LF-CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_05_TOR_543208_ANA_571506_0",
                    "batter_name": "Justin Bour",
                    "inning": "t5",
                    "outs": 1,
                    "pbp_table_row_number": 59,
                    "pitch_sequence": "BCFBX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Flyball: LF/Sacrifice Fly (Deep LF); Calhoun Scores",
                    "runners_on_base": "--3",
                },
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_571506_0",
                    "batter_name": "Justin Bour",
                    "inning": "t7",
                    "outs": 0,
                    "pbp_table_row_number": 85,
                    "pitch_sequence": "CBCX",
                    "pitcher_name": "David Phelps",
                    "play_description": "Popfly: SS (Deep SS-2B)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_571506_0",
                    "batter_name": "Justin Bour",
                    "inning": "t9",
                    "outs": 1,
                    "pbp_table_row_number": 119,
                    "pitch_sequence": "1>FX",
                    "pitcher_name": "Daniel Hudson",
                    "play_description": "Groundout: P-1B (Front of Home); Fletcher to 2B",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "1/4",
            "bat_order": 7,
            "bat_stats": "2B, RBI, R, SF",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.13,
                "avg_to_date": 0.173,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "2B"}, {"count": 1, "stat": "SF"}],
                "hits": 1,
                "obp_to_date": 0.264,
                "ops_to_date": 0.637,
                "plate_appearances": 5,
                "rbis": 1,
                "re24_bat": -0.2,
                "runs_scored": 1,
                "slg_to_date": 0.373,
                "strikeouts": 0,
                "total_pitches": 16,
                "total_strikes": 10,
                "wpa_bat": -0.004,
                "wpa_bat_neg": -0.016,
                "wpa_bat_pos": 0.012,
            },
            "bbref_id": "bourju01",
            "def_position": 3,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 571506,
            "name": "Justin Bour",
            "stats_to_date": ".173/.264/.373/.637",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        8: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_518960_0",
                    "batter_name": "Jonathan Lucroy",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 17,
                    "pitch_sequence": "CBBBB",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Walk",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_03_TOR_543208_ANA_518960_0",
                    "batter_name": "Jonathan Lucroy",
                    "inning": "t3",
                    "outs": 1,
                    "pbp_table_row_number": 35,
                    "pitch_sequence": "CX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Groundout: SS-1B",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_05_TOR_543208_ANA_518960_0",
                    "batter_name": "Jonathan Lucroy",
                    "inning": "t5",
                    "outs": 2,
                    "pbp_table_row_number": 60,
                    "pitch_sequence": "X",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Lineout: SS (Deep SS-3B Hole)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_518960_0",
                    "batter_name": "Jonathan Lucroy",
                    "inning": "t7",
                    "outs": 1,
                    "pbp_table_row_number": 86,
                    "pitch_sequence": "CSS",
                    "pitcher_name": "David Phelps",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_518960_0",
                    "batter_name": "Jonathan Lucroy",
                    "inning": "t9",
                    "outs": 2,
                    "pbp_table_row_number": 120,
                    "pitch_sequence": "BBCFBB",
                    "pitcher_name": "Daniel Hudson",
                    "play_description": "Walk",
                    "runners_on_base": "-2-",
                },
            ],
            "at_bats": "0/3",
            "bat_order": 8,
            "bat_stats": "R, K, 2BB",
            "bbref_data": {
                "at_bats": 3,
                "avg_lvg_index": 0.14,
                "avg_to_date": 0.226,
                "bases_on_balls": 2,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.305,
                "ops_to_date": 0.662,
                "plate_appearances": 5,
                "rbis": 0,
                "re24_bat": -0.5,
                "runs_scored": 1,
                "slg_to_date": 0.357,
                "strikeouts": 1,
                "total_pitches": 17,
                "total_strikes": 9,
                "wpa_bat": 0.003,
                "wpa_bat_neg": -0.009,
                "wpa_bat_pos": 0.012,
            },
            "bbref_id": "lucrojo01",
            "def_position": 2,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 518960,
            "name": "Jonathan Lucroy",
            "stats_to_date": ".226/.305/.357/.662",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        9: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_541600_0",
                    "batter_name": "Wilfredo Tovar",
                    "inning": "t2",
                    "outs": 2,
                    "pbp_table_row_number": 18,
                    "pitch_sequence": "CX",
                    "pitcher_name": "Edwin Jackson",
                    "play_description": "Single to 3B (Ground Ball to Weak 3B); Lucroy to 2B",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_03_TOR_543208_ANA_541600_0",
                    "batter_name": "Wilfredo Tovar",
                    "inning": "t3",
                    "outs": 2,
                    "pbp_table_row_number": 36,
                    "pitch_sequence": "CBCX",
                    "pitcher_name": "Sam Gaviglio",
                    "play_description": "Single to SS (Ground Ball to SS-2B); Bour Scores",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_541600_0",
                    "batter_name": "Wilfredo Tovar",
                    "inning": "t6",
                    "outs": 0,
                    "pbp_table_row_number": 69,
                    "pitch_sequence": ".CX",
                    "pitcher_name": "Nick Kingham",
                    "play_description": "Lineout: RF (Deep RF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_541600_0",
                    "batter_name": "Wilfredo Tovar",
                    "inning": "t7",
                    "outs": 2,
                    "pbp_table_row_number": 87,
                    "pitch_sequence": "BX",
                    "pitcher_name": "David Phelps",
                    "play_description": "Popfly: SS (Short CF)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_541600_0",
                    "batter_name": "Wilfredo Tovar",
                    "inning": "t9",
                    "outs": 2,
                    "pbp_table_row_number": 121,
                    "pitch_sequence": "CTBBFFFFFFX",
                    "pitcher_name": "Daniel Hudson",
                    "play_description": "Foul Popfly: 1B (1B into Foul Terr.)",
                    "runners_on_base": "12-",
                },
            ],
            "at_bats": "2/5",
            "bat_order": 9,
            "bat_stats": "RBI, R",
            "bbref_data": {
                "at_bats": 5,
                "avg_lvg_index": 0.23,
                "avg_to_date": 0.211,
                "bases_on_balls": 0,
                "details": [],
                "hits": 2,
                "obp_to_date": 0.286,
                "ops_to_date": 0.602,
                "plate_appearances": 5,
                "rbis": 1,
                "re24_bat": 0.2,
                "runs_scored": 1,
                "slg_to_date": 0.316,
                "strikeouts": 0,
                "total_pitches": 21,
                "total_strikes": 17,
                "wpa_bat": 0.039,
                "wpa_bat_neg": -0.003,
                "wpa_bat_pos": 0.041,
            },
            "bbref_id": "tovarwi01",
            "def_position": 6,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 541600,
            "name": "Wilfredo Tovar",
            "stats_to_date": ".211/.286/.316/.602",
            "substitutions": [],
            "team_id": "LAA",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
    }
    check_away_team_pitching = {
        "RP1": {
            "at_bat_ids": [
                "TOR201906170_02_ANA_570240_TOR_606192_0",
                "TOR201906170_02_ANA_570240_TOR_545341_0",
                "TOR201906170_02_ANA_570240_TOR_520471_0",
                "TOR201906170_03_ANA_570240_TOR_592273_0",
                "TOR201906170_03_ANA_570240_TOR_571912_0",
                "TOR201906170_03_ANA_570240_TOR_519299_0",
                "TOR201906170_04_ANA_570240_TOR_624415_0",
                "TOR201906170_04_ANA_570240_TOR_665489_0",
                "TOR201906170_04_ANA_570240_TOR_642133_0",
                "TOR201906170_04_ANA_570240_TOR_606192_0",
                "TOR201906170_05_ANA_570240_TOR_545341_0",
                "TOR201906170_05_ANA_570240_TOR_520471_0",
                "TOR201906170_05_ANA_570240_TOR_592273_0",
                "TOR201906170_06_ANA_570240_TOR_571912_0",
                "TOR201906170_06_ANA_570240_TOR_519299_0",
                "TOR201906170_06_ANA_570240_TOR_624415_0",
                "TOR201906170_06_ANA_570240_TOR_665489_0",
                "TOR201906170_07_ANA_570240_TOR_642133_0",
                "TOR201906170_07_ANA_570240_TOR_666971_0",
                "TOR201906170_07_ANA_570240_TOR_545341_0",
                "TOR201906170_07_ANA_570240_TOR_520471_0",
                "TOR201906170_07_ANA_570240_TOR_592273_0",
                "TOR201906170_07_ANA_570240_TOR_571912_0",
                "TOR201906170_08_ANA_570240_TOR_519299_0",
                "TOR201906170_08_ANA_570240_TOR_624415_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.2,
                "bases_on_balls": 3,
                "batters_faced": 25,
                "earned_runs": 4,
                "fly_balls": 9,
                "game_score": 0,
                "ground_balls": 8,
                "hits": 6,
                "homeruns": 2,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 6.0,
                "line_drives": 1,
                "pitch_count": 85,
                "re24_pitch": -0.8,
                "runs": 4,
                "strikeouts": 5,
                "strikes": 52,
                "strikes_contact": 24,
                "strikes_looking": 17,
                "strikes_swinging": 11,
                "unknown_type": 0,
                "wpa_pitch": 0.048,
            },
            "bbref_id": "penafe01",
            "game_results": "6.0 IP (4ER, 6H, 5K, 3BB)",
            "inning_totals": {
                2: {
                    "bb": 0,
                    "bf": 3,
                    "hits": 0,
                    "outs": 3,
                    "pitch_count": 13,
                    "runs": 0,
                    "so": 2,
                    "strikes": 9,
                },
                3: {
                    "bb": 0,
                    "bf": 3,
                    "hits": 0,
                    "outs": 3,
                    "pitch_count": 10,
                    "runs": 0,
                    "so": 0,
                    "strikes": 6,
                },
                4: {
                    "bb": 1,
                    "bf": 4,
                    "hits": 0,
                    "outs": 3,
                    "pitch_count": 11,
                    "runs": 0,
                    "so": 0,
                    "strikes": 5,
                },
                5: {"bb": 0, "bf": 3, "hits": 1, "outs": 3, "pitch_count": 8, "runs": 0, "so": 1, "strikes": 7},
                6: {
                    "bb": 1,
                    "bf": 4,
                    "hits": 1,
                    "outs": 3,
                    "pitch_count": 15,
                    "runs": 0,
                    "so": 1,
                    "strikes": 9,
                },
                7: {
                    "bb": 1,
                    "bf": 6,
                    "hits": 2,
                    "outs": 3,
                    "pitch_count": 20,
                    "runs": 2,
                    "so": 1,
                    "strikes": 12,
                },
                8: {"bb": 0, "bf": 2, "hits": 2, "outs": 0, "pitch_count": 8, "runs": 2, "so": 0, "strikes": 4},
            },
            "mlb_id": 570240,
            "name": "Felix Pena",
            "pitch_app_id": "TOR201906170_570240",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"2": 13, "3": 10, "4": 11, "5": 8, "6": 15, "7": 20, "8": 8},
            "pitch_count_by_pitch_type": {"CH": 16, "FT": 46, "SL": 23},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_02_ANA_570240_TOR_606192_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "penafe01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT02",
                    "inning_label": "b2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "garcilu03",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 27,
                    "sub_description": "Felix Pena replaces Luis Garcia pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_665489_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "ramirno01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT08",
                    "inning_label": "b8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "penafe01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 107,
                    "sub_description": "Noe Ramirez replaces Felix Pena pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
            ],
            "team_id": "LAA",
        },
        "RP2": {
            "at_bat_ids": [
                "TOR201906170_08_ANA_598287_TOR_665489_0",
                "TOR201906170_08_ANA_598287_TOR_642133_0",
                "TOR201906170_08_ANA_598287_TOR_666971_0",
                "TOR201906170_08_ANA_598287_TOR_545341_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.3,
                "bases_on_balls": 0,
                "batters_faced": 4,
                "earned_runs": 0,
                "fly_balls": 1,
                "game_score": 0,
                "ground_balls": 2,
                "hits": 1,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 0.2,
                "line_drives": 0,
                "pitch_count": 16,
                "re24_pitch": 0.1,
                "runs": 0,
                "strikeouts": 1,
                "strikes": 11,
                "strikes_contact": 5,
                "strikes_looking": 3,
                "strikes_swinging": 3,
                "unknown_type": 0,
                "wpa_pitch": 0.003,
            },
            "bbref_id": "ramirno01",
            "game_results": "0.2 IP (0ER, H, K)",
            "inning_totals": {
                8: {
                    "bb": 0,
                    "bf": 4,
                    "hits": 1,
                    "outs": 2,
                    "pitch_count": 16,
                    "runs": 0,
                    "so": 1,
                    "strikes": 11,
                }
            },
            "mlb_id": 598287,
            "name": "Noe Ramirez",
            "pitch_app_id": "TOR201906170_598287",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"8": 16},
            "pitch_count_by_pitch_type": {"CH": 4, "CU": 9, "FF": 3},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_665489_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "ramirno01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT08",
                    "inning_label": "b8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "penafe01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 107,
                    "sub_description": "Noe Ramirez replaces Felix Pena pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_621142_TOR_520471_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "buttrty01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT08",
                    "inning_label": "b8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "ramirno01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 112,
                    "sub_description": "Ty Buttrey replaces Noe Ramirez pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
            ],
            "team_id": "LAA",
        },
        "RP3": {
            "at_bat_ids": ["TOR201906170_08_ANA_621142_TOR_520471_0"],
            "bbref_data": {
                "avg_lvg_index": 0.49,
                "bases_on_balls": 0,
                "batters_faced": 1,
                "earned_runs": 0,
                "fly_balls": 0,
                "game_score": 0,
                "ground_balls": 0,
                "hits": 0,
                "homeruns": 0,
                "inherited_runners": 2,
                "inherited_scored": 0,
                "innings_pitched": 0.1,
                "line_drives": 0,
                "pitch_count": 6,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 1,
                "strikes": 5,
                "strikes_contact": 3,
                "strikes_looking": 1,
                "strikes_swinging": 1,
                "unknown_type": 0,
                "wpa_pitch": 0.013,
            },
            "bbref_id": "buttrty01",
            "game_results": "0.1 IP (0ER, K)",
            "inning_totals": {
                8: {"bb": 0, "bf": 1, "hits": 0, "outs": 1, "pitch_count": 6, "runs": 0, "so": 1, "strikes": 5}
            },
            "mlb_id": 621142,
            "name": "Ty Buttrey",
            "pitch_app_id": "TOR201906170_621142",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"8": 6},
            "pitch_count_by_pitch_type": {"FF": 2, "SL": 4},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_08_ANA_621142_TOR_520471_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "buttrty01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT08",
                    "inning_label": "b8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "ramirno01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 112,
                    "sub_description": "Ty Buttrey replaces Noe Ramirez pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
                {
                    "at_bat_id": "TOR201906170_09_ANA_605121_TOR_592273_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "anderju01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT09",
                    "inning_label": "b9",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "buttrty01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 124,
                    "sub_description": "Justin Anderson replaces Ty Buttrey pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                },
            ],
            "team_id": "LAA",
        },
        "RP4": {
            "at_bat_ids": [
                "TOR201906170_09_ANA_605121_TOR_592273_0",
                "TOR201906170_09_ANA_605121_TOR_571912_0",
                "TOR201906170_09_ANA_605121_TOR_519299_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.11,
                "bases_on_balls": 0,
                "batters_faced": 3,
                "earned_runs": 0,
                "fly_balls": 2,
                "game_score": 0,
                "ground_balls": 1,
                "hits": 0,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 0,
                "pitch_count": 7,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 0,
                "strikes": 4,
                "strikes_contact": 4,
                "strikes_looking": 0,
                "strikes_swinging": 0,
                "unknown_type": 0,
                "wpa_pitch": 0.009,
            },
            "bbref_id": "anderju01",
            "game_results": "1.0 IP (0ER)",
            "inning_totals": {
                9: {"bb": 0, "bf": 3, "hits": 0, "outs": 3, "pitch_count": 7, "runs": 0, "so": 0, "strikes": 4}
            },
            "mlb_id": 605121,
            "name": "Justin Anderson",
            "pitch_app_id": "TOR201906170_605121",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"9": 7},
            "pitch_count_by_pitch_type": {"FF": 3, "FT": 3, "SL": 1},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_09_ANA_605121_TOR_592273_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "anderju01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT09",
                    "inning_label": "b9",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "buttrty01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 124,
                    "sub_description": "Justin Anderson replaces Ty Buttrey pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                }
            ],
            "team_id": "LAA",
        },
        "SP": {
            "at_bat_ids": [
                "TOR201906170_01_ANA_472610_TOR_519299_0",
                "TOR201906170_01_ANA_472610_TOR_624415_0",
                "TOR201906170_01_ANA_472610_TOR_665489_0",
                "TOR201906170_01_ANA_472610_TOR_642133_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.6,
                "bases_on_balls": 0,
                "batters_faced": 4,
                "earned_runs": 1,
                "fly_balls": 1,
                "game_score": 48,
                "ground_balls": 2,
                "hits": 1,
                "homeruns": 1,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 0,
                "pitch_count": 15,
                "re24_pitch": -0.5,
                "runs": 1,
                "strikeouts": 1,
                "strikes": 9,
                "strikes_contact": 4,
                "strikes_looking": 2,
                "strikes_swinging": 3,
                "unknown_type": 0,
                "wpa_pitch": -0.052,
            },
            "bbref_id": "garcilu03",
            "game_results": "1.0 IP (1ER, H, K, GS: 48)",
            "inning_totals": {
                1: {"bb": 0, "bf": 4, "hits": 1, "outs": 3, "pitch_count": 15, "runs": 1, "so": 1, "strikes": 9}
            },
            "mlb_id": 472610,
            "name": "Luis Garcia",
            "pitch_app_id": "TOR201906170_472610",
            "pitch_app_type": "SP",
            "pitch_count_by_inning": {"1": 15},
            "pitch_count_by_pitch_type": {"FF": 2, "FS": 7, "FT": 6},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_02_ANA_570240_TOR_606192_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "penafe01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_BOT02",
                    "inning_label": "b2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "garcilu03",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 27,
                    "sub_description": "Felix Pena replaces Luis Garcia pitching",
                    "sub_type": "pitch",
                    "team_id": "LAA",
                }
            ],
            "team_id": "LAA",
        },
    }
    check_home_team_batting = {
        1: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_ANA_472610_TOR_519299_0",
                    "batter_name": "Eric Sogard",
                    "inning": "b1",
                    "outs": 0,
                    "pbp_table_row_number": 6,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Luis Garcia",
                    "play_description": "Groundout: 1B unassisted",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_03_ANA_570240_TOR_519299_0",
                    "batter_name": "Eric Sogard",
                    "inning": "b3",
                    "outs": 2,
                    "pbp_table_row_number": 42,
                    "pitch_sequence": "BCBX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Popfly: SS (Deep SS-3B Hole)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_ANA_570240_TOR_519299_0",
                    "batter_name": "Eric Sogard",
                    "inning": "b6",
                    "outs": 1,
                    "pbp_table_row_number": 78,
                    "pitch_sequence": "CCBX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Single to CF (Fly Ball to Short CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_570240_TOR_519299_0",
                    "batter_name": "Eric Sogard",
                    "inning": "b8",
                    "outs": 0,
                    "pbp_table_row_number": 105,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Single to CF (Fly Ball)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_09_ANA_605121_TOR_519299_0",
                    "batter_name": "Eric Sogard",
                    "inning": "b9",
                    "outs": 2,
                    "pbp_table_row_number": 127,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Justin Anderson",
                    "play_description": "Groundout: SS-1B",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "2/5",
            "bat_order": 1,
            "bat_stats": "R",
            "bbref_data": {
                "at_bats": 5,
                "avg_lvg_index": 0.23,
                "avg_to_date": 0.294,
                "bases_on_balls": 0,
                "details": [],
                "hits": 2,
                "obp_to_date": 0.361,
                "ops_to_date": 0.845,
                "plate_appearances": 5,
                "rbis": 0,
                "re24_bat": 0.2,
                "runs_scored": 1,
                "slg_to_date": 0.485,
                "strikeouts": 0,
                "total_pitches": 14,
                "total_strikes": 8,
                "wpa_bat": -0.02,
                "wpa_bat_neg": -0.026,
                "wpa_bat_pos": 0.006,
            },
            "bbref_id": "sogarer01",
            "def_position": 10,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 519299,
            "name": "Eric Sogard",
            "stats_to_date": ".294/.361/.485/.845",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 5,
            "total_plate_appearances": 5,
        },
        2: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_ANA_472610_TOR_624415_0",
                    "batter_name": "Cavan Biggio",
                    "inning": "b1",
                    "outs": 1,
                    "pbp_table_row_number": 7,
                    "pitch_sequence": "CSBBBX",
                    "pitcher_name": "Luis Garcia",
                    "play_description": "Home Run (Fly Ball to Deep CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_04_ANA_570240_TOR_624415_0",
                    "batter_name": "Cavan Biggio",
                    "inning": "b4",
                    "outs": 0,
                    "pbp_table_row_number": 50,
                    "pitch_sequence": "BBBB",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Walk",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_ANA_570240_TOR_624415_0",
                    "batter_name": "Cavan Biggio",
                    "inning": "b6",
                    "outs": 1,
                    "pbp_table_row_number": 79,
                    "pitch_sequence": "BCBBC*B",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Walk; Sogard to 2B",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_570240_TOR_624415_0",
                    "batter_name": "Cavan Biggio",
                    "inning": "b8",
                    "outs": 0,
                    "pbp_table_row_number": 106,
                    "pitch_sequence": "S*BBF*BX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Home " "Run " "(Fly " "Ball " "to " "Deep " "RF " "Line); " "Sogard " "Scores",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "2/2",
            "bat_order": 2,
            "bat_stats": "2HR, 3RBI, 2R, 2BB",
            "bbref_data": {
                "at_bats": 2,
                "avg_lvg_index": 0.33,
                "avg_to_date": 0.233,
                "bases_on_balls": 2,
                "details": [{"count": 2, "stat": "HR"}],
                "hits": 2,
                "obp_to_date": 0.378,
                "ops_to_date": 0.895,
                "plate_appearances": 4,
                "rbis": 3,
                "re24_bat": 3.6,
                "runs_scored": 2,
                "slg_to_date": 0.517,
                "strikeouts": 0,
                "total_pitches": 22,
                "total_strikes": 8,
                "wpa_bat": 0.132,
                "wpa_bat_neg": 0.0,
                "wpa_bat_pos": 0.132,
            },
            "bbref_id": "biggica01",
            "def_position": 7,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 624415,
            "name": "Cavan Biggio",
            "stats_to_date": ".233/.378/.517/.895",
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "biggica01",
                    "incoming_player_pos": "RF",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "biggica01",
                    "outgoing_player_pos": "LF",
                    "pbp_table_row_number": 83,
                    "sub_description": "Cavan Biggio moves from LF to RF",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        3: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_ANA_472610_TOR_665489_0",
                    "batter_name": "Vladimir Guerrero Jr.",
                    "inning": "b1",
                    "outs": 1,
                    "pbp_table_row_number": 8,
                    "pitch_sequence": "X",
                    "pitcher_name": "Luis Garcia",
                    "play_description": "Groundout: SS-1B",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_04_ANA_570240_TOR_665489_0",
                    "batter_name": "Vladimir Guerrero Jr.",
                    "inning": "b4",
                    "outs": 0,
                    "pbp_table_row_number": 51,
                    "pitch_sequence": "CSB.X",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Foul Popfly: 1B (1B into Foul Terr.)",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_06_ANA_570240_TOR_665489_0",
                    "batter_name": "Vladimir Guerrero Jr.",
                    "inning": "b6",
                    "outs": 1,
                    "pbp_table_row_number": 80,
                    "pitch_sequence": "X",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Ground Ball Double Play: SS-2B-1B",
                    "runners_on_base": "12-",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_665489_0",
                    "batter_name": "Vladimir Guerrero Jr.",
                    "inning": "b8",
                    "outs": 0,
                    "pbp_table_row_number": 108,
                    "pitch_sequence": ".CSS",
                    "pitcher_name": "Noe Ramirez",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 3,
            "bat_stats": "K, GDP",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.41,
                "avg_to_date": 0.259,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "GDP"}],
                "hits": 0,
                "obp_to_date": 0.322,
                "ops_to_date": 0.765,
                "plate_appearances": 4,
                "rbis": 0,
                "re24_bat": -1.8,
                "runs_scored": 0,
                "slg_to_date": 0.443,
                "strikeouts": 1,
                "total_pitches": 9,
                "total_strikes": 8,
                "wpa_bat": -0.044,
                "wpa_bat_neg": -0.044,
                "wpa_bat_pos": 0.0,
            },
            "bbref_id": "guerrvl02",
            "def_position": 5,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 665489,
            "name": "Vladimir Guerrero Jr.",
            "stats_to_date": ".259/.322/.443/.765",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        4: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_01_ANA_472610_TOR_642133_0",
                    "batter_name": "Rowdy Tellez",
                    "inning": "b1",
                    "outs": 2,
                    "pbp_table_row_number": 9,
                    "pitch_sequence": "CBSBFS",
                    "pitcher_name": "Luis Garcia",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_04_ANA_570240_TOR_642133_0",
                    "batter_name": "Rowdy Tellez",
                    "inning": "b4",
                    "outs": 1,
                    "pbp_table_row_number": 53,
                    "pitch_sequence": "*BX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Groundout: SS-1B; Biggio to 3B",
                    "runners_on_base": "-2-",
                },
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_642133_0",
                    "batter_name": "Rowdy Tellez",
                    "inning": "b7",
                    "outs": 0,
                    "pbp_table_row_number": 90,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Groundout: SS-1B",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_642133_0",
                    "batter_name": "Rowdy Tellez",
                    "inning": "b8",
                    "outs": 1,
                    "pbp_table_row_number": 109,
                    "pitch_sequence": "SBBCX",
                    "pitcher_name": "Noe Ramirez",
                    "play_description": "Reached on E6 (Ground Ball to SS-2B)",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 4,
            "bat_stats": "K",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.26,
                "avg_to_date": 0.213,
                "bases_on_balls": 0,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.261,
                "ops_to_date": 0.677,
                "plate_appearances": 4,
                "rbis": 0,
                "re24_bat": -0.4,
                "runs_scored": 0,
                "slg_to_date": 0.415,
                "strikeouts": 1,
                "total_pitches": 15,
                "total_strikes": 9,
                "wpa_bat": -0.011,
                "wpa_bat_neg": -0.021,
                "wpa_bat_pos": 0.01,
            },
            "bbref_id": "tellero01",
            "def_position": 3,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 642133,
            "name": "Rowdy Tellez",
            "stats_to_date": ".213/.261/.415/.677",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        5: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_ANA_570240_TOR_606192_0",
                    "batter_name": "Teoscar Hernandez",
                    "inning": "b2",
                    "outs": 0,
                    "pbp_table_row_number": 28,
                    "pitch_sequence": ".CBBSBX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Foul Popfly: 1B (1B into Foul Terr.)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_04_ANA_570240_TOR_606192_0",
                    "batter_name": "Teoscar Hernandez",
                    "inning": "b4",
                    "outs": 2,
                    "pbp_table_row_number": 54,
                    "pitch_sequence": "X",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Foul Popfly: 1B (1B into Foul Terr.)",
                    "runners_on_base": "--3",
                },
            ],
            "at_bats": "0/2",
            "bat_order": 5,
            "bat_stats": "",
            "bbref_data": {
                "at_bats": 2,
                "avg_lvg_index": 0.38,
                "avg_to_date": 0.208,
                "bases_on_balls": 0,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.28,
                "ops_to_date": 0.649,
                "plate_appearances": 2,
                "rbis": 0,
                "re24_bat": -0.6,
                "runs_scored": 0,
                "slg_to_date": 0.369,
                "strikeouts": 0,
                "total_pitches": 7,
                "total_strikes": 4,
                "wpa_bat": -0.021,
                "wpa_bat_neg": -0.021,
                "wpa_bat_pos": 0.0,
            },
            "bbref_id": "hernate01",
            "def_position": 8,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 606192,
            "name": "Teoscar Hernandez",
            "stats_to_date": ".208/.280/.369/.649",
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "gurrilo01",
                    "incoming_player_pos": "LF",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 5,
                    "outgoing_player_id_br": "hernate01",
                    "outgoing_player_pos": "CF",
                    "pbp_table_row_number": 83,
                    "sub_description": "Lourdes "
                    "Gurriel "
                    "replaces "
                    "Teoscar "
                    "Hernandez "
                    "(CF) "
                    "playing "
                    "LF "
                    "batting "
                    "5th",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 2,
            "total_plate_appearances": 2,
        },
        6: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_ANA_570240_TOR_545341_0",
                    "batter_name": "Randal Grichuk",
                    "inning": "b2",
                    "outs": 1,
                    "pbp_table_row_number": 29,
                    "pitch_sequence": "CCS",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_05_ANA_570240_TOR_545341_0",
                    "batter_name": "Randal Grichuk",
                    "inning": "b5",
                    "outs": 0,
                    "pbp_table_row_number": 63,
                    "pitch_sequence": "FCS",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_545341_0",
                    "batter_name": "Randal Grichuk",
                    "inning": "b7",
                    "outs": 1,
                    "pbp_table_row_number": 92,
                    "pitch_sequence": "*BCX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Home "
                    "Run "
                    "(Fly "
                    "Ball "
                    "to "
                    "Deep "
                    "LF "
                    "Line); "
                    "Gurriel "
                    "Scores",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_545341_0",
                    "batter_name": "Randal Grichuk",
                    "inning": "b8",
                    "outs": 2,
                    "pbp_table_row_number": 111,
                    "pitch_sequence": "BF*BCFX",
                    "pitcher_name": "Noe Ramirez",
                    "play_description": "Single "
                    "to P "
                    "(Ground "
                    "Ball "
                    "to "
                    "Front "
                    "of "
                    "Home); "
                    "Tellez "
                    "to 2B",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "2/4",
            "bat_order": 6,
            "bat_stats": "HR, 2RBI, R, 2K",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.17,
                "avg_to_date": 0.219,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "HR"}],
                "hits": 2,
                "obp_to_date": 0.277,
                "ops_to_date": 0.69,
                "plate_appearances": 4,
                "rbis": 2,
                "re24_bat": 1.5,
                "runs_scored": 1,
                "slg_to_date": 0.413,
                "strikeouts": 2,
                "total_pitches": 15,
                "total_strikes": 12,
                "wpa_bat": 0.0,
                "wpa_bat_neg": -0.012,
                "wpa_bat_pos": 0.012,
            },
            "bbref_id": "grichra01",
            "def_position": 9,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 545341,
            "name": "Randal Grichuk",
            "stats_to_date": ".219/.277/.413/.690",
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "grichra01",
                    "incoming_player_pos": "CF",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "grichra01",
                    "outgoing_player_pos": "RF",
                    "pbp_table_row_number": 83,
                    "sub_description": "Randal Grichuk moves from RF to CF",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        7: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_02_ANA_570240_TOR_520471_0",
                    "batter_name": "Freddy Galvis",
                    "inning": "b2",
                    "outs": 2,
                    "pbp_table_row_number": 30,
                    "pitch_sequence": "CSB*S",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_05_ANA_570240_TOR_520471_0",
                    "batter_name": "Freddy Galvis",
                    "inning": "b5",
                    "outs": 1,
                    "pbp_table_row_number": 64,
                    "pitch_sequence": "FX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Single to RF (Ground Ball)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_520471_0",
                    "batter_name": "Freddy Galvis",
                    "inning": "b7",
                    "outs": 1,
                    "pbp_table_row_number": 93,
                    "pitch_sequence": "BBC.CX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Single to CF (Line Drive to Deep CF)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_621142_TOR_520471_0",
                    "batter_name": "Freddy Galvis",
                    "inning": "b8",
                    "outs": 2,
                    "pbp_table_row_number": 113,
                    "pitch_sequence": ".CFF*BFS",
                    "pitcher_name": "Ty Buttrey",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "12-",
                },
            ],
            "at_bats": "2/4",
            "bat_order": 7,
            "bat_stats": "2K",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.22,
                "avg_to_date": 0.258,
                "bases_on_balls": 0,
                "details": [],
                "hits": 2,
                "obp_to_date": 0.296,
                "ops_to_date": 0.722,
                "plate_appearances": 4,
                "rbis": 0,
                "re24_bat": -0.0,
                "runs_scored": 0,
                "slg_to_date": 0.426,
                "strikeouts": 2,
                "total_pitches": 17,
                "total_strikes": 13,
                "wpa_bat": -0.009,
                "wpa_bat_neg": -0.018,
                "wpa_bat_pos": 0.009,
            },
            "bbref_id": "galvifr01",
            "def_position": 6,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 520471,
            "name": "Freddy Galvis",
            "stats_to_date": ".258/.296/.426/.722",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        8: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_03_ANA_570240_TOR_592273_0",
                    "batter_name": "Brandon Drury",
                    "inning": "b3",
                    "outs": 0,
                    "pbp_table_row_number": 40,
                    "pitch_sequence": "BFX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Groundout: 2B-1B (2B-1B)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_05_ANA_570240_TOR_592273_0",
                    "batter_name": "Brandon Drury",
                    "inning": "b5",
                    "outs": 1,
                    "pbp_table_row_number": 65,
                    "pitch_sequence": "FBX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Ground Ball Double Play: 3B-2B-1B (Weak 3B)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_592273_0",
                    "batter_name": "Brandon Drury",
                    "inning": "b7",
                    "outs": 1,
                    "pbp_table_row_number": 94,
                    "pitch_sequence": "S*S*S",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_09_ANA_605121_TOR_592273_0",
                    "batter_name": "Brandon Drury",
                    "inning": "b9",
                    "outs": 0,
                    "pbp_table_row_number": 125,
                    "pitch_sequence": ".X",
                    "pitcher_name": "Justin Anderson",
                    "play_description": "Popfly: SS",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 8,
            "bat_stats": "K, GDP",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.26,
                "avg_to_date": 0.215,
                "bases_on_balls": 0,
                "details": [{"count": 1, "stat": "GDP"}],
                "hits": 0,
                "obp_to_date": 0.256,
                "ops_to_date": 0.626,
                "plate_appearances": 4,
                "rbis": 0,
                "re24_bat": -1.4,
                "runs_scored": 0,
                "slg_to_date": 0.371,
                "strikeouts": 1,
                "total_pitches": 10,
                "total_strikes": 8,
                "wpa_bat": -0.027,
                "wpa_bat_neg": -0.027,
                "wpa_bat_pos": 0.0,
            },
            "bbref_id": "drurybr01",
            "def_position": 4,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 592273,
            "name": "Brandon Drury",
            "stats_to_date": ".215/.256/.371/.626",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        9: {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_03_ANA_570240_TOR_571912_0",
                    "batter_name": "Luke Maile",
                    "inning": "b3",
                    "outs": 1,
                    "pbp_table_row_number": 41,
                    "pitch_sequence": "CBX",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Groundout: 2B-1B (2B-1B)",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_06_ANA_570240_TOR_571912_0",
                    "batter_name": "Luke Maile",
                    "inning": "b6",
                    "outs": 0,
                    "pbp_table_row_number": 77,
                    "pitch_sequence": "BCFS",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Strikeout Swinging",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_571912_0",
                    "batter_name": "Luke Maile",
                    "inning": "b7",
                    "outs": 2,
                    "pbp_table_row_number": 95,
                    "pitch_sequence": "X",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Groundout: 2B-1B (2B-1B)",
                    "runners_on_base": "1--",
                },
                {
                    "at_bat_id": "TOR201906170_09_ANA_605121_TOR_571912_0",
                    "batter_name": "Luke Maile",
                    "inning": "b9",
                    "outs": 1,
                    "pbp_table_row_number": 126,
                    "pitch_sequence": "FBBX",
                    "pitcher_name": "Justin Anderson",
                    "play_description": "Popfly: 2B (Deep 1B)",
                    "runners_on_base": "---",
                },
            ],
            "at_bats": "0/4",
            "bat_order": 9,
            "bat_stats": "K",
            "bbref_data": {
                "at_bats": 4,
                "avg_lvg_index": 0.12,
                "avg_to_date": 0.176,
                "bases_on_balls": 0,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.231,
                "ops_to_date": 0.501,
                "plate_appearances": 4,
                "rbis": 0,
                "re24_bat": -0.8,
                "runs_scored": 0,
                "slg_to_date": 0.271,
                "strikeouts": 1,
                "total_pitches": 12,
                "total_strikes": 8,
                "wpa_bat": -0.012,
                "wpa_bat_neg": -0.012,
                "wpa_bat_pos": 0.0,
            },
            "bbref_id": "mailelu01",
            "def_position": 2,
            "incomplete_at_bat_ids": [],
            "is_starter": True,
            "mlb_id": 571912,
            "name": "Luke Maile",
            "stats_to_date": ".176/.231/.271/.501",
            "substitutions": [],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 4,
            "total_plate_appearances": 4,
        },
        "BN1": {
            "at_bat_results": [
                {
                    "at_bat_id": "TOR201906170_07_ANA_570240_TOR_666971_0",
                    "batter_name": "Lourdes Gurriel Jr.",
                    "inning": "b7",
                    "outs": 1,
                    "pbp_table_row_number": 91,
                    "pitch_sequence": "FCBBBB",
                    "pitcher_name": "Felix Pena",
                    "play_description": "Walk",
                    "runners_on_base": "---",
                },
                {
                    "at_bat_id": "TOR201906170_08_ANA_598287_TOR_666971_0",
                    "batter_name": "Lourdes Gurriel Jr.",
                    "inning": "b8",
                    "outs": 1,
                    "pbp_table_row_number": 110,
                    "pitch_sequence": "BX",
                    "pitcher_name": "Noe Ramirez",
                    "play_description": "Foul Popfly: 3B (3B into Foul Terr.)",
                    "runners_on_base": "1--",
                },
            ],
            "at_bats": "0/1",
            "bat_order": 0,
            "bat_stats": "R, BB",
            "bbref_data": {
                "at_bats": 1,
                "avg_lvg_index": 0.23,
                "avg_to_date": 0.275,
                "bases_on_balls": 1,
                "details": [],
                "hits": 0,
                "obp_to_date": 0.333,
                "ops_to_date": 0.875,
                "plate_appearances": 2,
                "rbis": 0,
                "re24_bat": -0.0,
                "runs_scored": 1,
                "slg_to_date": 0.542,
                "strikeouts": 0,
                "total_pitches": 8,
                "total_strikes": 3,
                "wpa_bat": -0.01,
                "wpa_bat_neg": -0.011,
                "wpa_bat_pos": 0.001,
            },
            "bbref_id": "gurrilo01",
            "def_position": 11,
            "incomplete_at_bat_ids": [],
            "is_starter": False,
            "mlb_id": 666971,
            "name": "Lourdes Gurriel Jr.",
            "stats_to_date": ".275/.333/.542/.875",
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "gurrilo01",
                    "incoming_player_pos": "LF",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 5,
                    "outgoing_player_id_br": "hernate01",
                    "outgoing_player_pos": "CF",
                    "pbp_table_row_number": 83,
                    "sub_description": "Lourdes "
                    "Gurriel "
                    "replaces "
                    "Teoscar "
                    "Hernandez "
                    "(CF) "
                    "playing "
                    "LF "
                    "batting "
                    "5th",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
            "total_incomplete_at_bats": 0,
            "total_pbp_events": 2,
            "total_plate_appearances": 2,
        },
    }
    check_home_team_pitching = {
        "RP1": {
            "at_bat_ids": [
                "TOR201906170_02_TOR_429719_ANA_457708_0",
                "TOR201906170_02_TOR_429719_ANA_594777_0",
                "TOR201906170_02_TOR_429719_ANA_664058_0",
                "TOR201906170_02_TOR_429719_ANA_571506_0",
                "TOR201906170_02_TOR_429719_ANA_518960_0",
                "TOR201906170_02_TOR_429719_ANA_541600_0",
                "TOR201906170_02_TOR_429719_ANA_600303_0",
                "TOR201906170_02_TOR_429719_ANA_545361_0",
                "TOR201906170_02_TOR_429719_ANA_660271_0",
                "TOR201906170_02_TOR_429719_ANA_457708_1",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.99,
                "bases_on_balls": 2,
                "batters_faced": 10,
                "earned_runs": 7,
                "fly_balls": 6,
                "game_score": 0,
                "ground_balls": 2,
                "hits": 6,
                "homeruns": 3,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 0.2,
                "line_drives": 2,
                "pitch_count": 38,
                "re24_pitch": -6.7,
                "runs": 7,
                "strikeouts": 0,
                "strikes": 19,
                "strikes_contact": 13,
                "strikes_looking": 5,
                "strikes_swinging": 1,
                "unknown_type": 0,
                "wpa_pitch": -0.517,
            },
            "bbref_id": "jacksed01",
            "game_results": "0.2 IP (7ER, 6H, 2BB)",
            "inning_totals": {
                2: {
                    "bb": 2,
                    "bf": 9,
                    "hits": 6,
                    "outs": 2,
                    "pitch_count": 38,
                    "runs": 7,
                    "so": 0,
                    "strikes": 19,
                }
            },
            "mlb_id": 429719,
            "name": "Edwin Jackson",
            "pitch_app_id": "TOR201906170_429719",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"2": 38},
            "pitch_count_by_pitch_type": {"CH": 5, "FC": 4, "FF": 6, "FT": 11, "SL": 12},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_457708_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "jacksed01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP02",
                    "inning_label": "t2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "lawde01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 12,
                    "sub_description": "Edwin Jackson replaces Derek Law pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
                {
                    "at_bat_id": "TOR201906170_02_TOR_543208_ANA_594777_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "gavigsa01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP02",
                    "inning_label": "t2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "jacksed01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 23,
                    "sub_description": "Sam Gaviglio replaces Edwin Jackson pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
            ],
            "team_id": "TOR",
        },
        "RP2": {
            "at_bat_ids": [
                "TOR201906170_02_TOR_543208_ANA_594777_0",
                "TOR201906170_03_TOR_543208_ANA_664058_0",
                "TOR201906170_03_TOR_543208_ANA_571506_0",
                "TOR201906170_03_TOR_543208_ANA_518960_0",
                "TOR201906170_03_TOR_543208_ANA_541600_0",
                "TOR201906170_03_TOR_543208_ANA_600303_0",
                "TOR201906170_04_TOR_543208_ANA_545361_0",
                "TOR201906170_04_TOR_543208_ANA_660271_0",
                "TOR201906170_04_TOR_543208_ANA_457708_0",
                "TOR201906170_05_TOR_543208_ANA_594777_0",
                "TOR201906170_05_TOR_543208_ANA_664058_0",
                "TOR201906170_05_TOR_543208_ANA_571506_0",
                "TOR201906170_05_TOR_543208_ANA_518960_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.13,
                "bases_on_balls": 0,
                "batters_faced": 13,
                "earned_runs": 2,
                "fly_balls": 6,
                "game_score": 0,
                "ground_balls": 5,
                "hits": 4,
                "homeruns": 0,
                "inherited_runners": 1,
                "inherited_scored": 0,
                "innings_pitched": 3.1,
                "line_drives": 2,
                "pitch_count": 39,
                "re24_pitch": -0.1,
                "runs": 2,
                "strikeouts": 2,
                "strikes": 27,
                "strikes_contact": 14,
                "strikes_looking": 12,
                "strikes_swinging": 1,
                "unknown_type": 0,
                "wpa_pitch": -0.011,
            },
            "bbref_id": "gavigsa01",
            "game_results": "3.1 IP (2ER, 4H, 2K)",
            "inning_totals": {
                2: {"bb": 0, "bf": 1, "hits": 0, "outs": 1, "pitch_count": 2, "runs": 0, "so": 0, "strikes": 2},
                3: {
                    "bb": 0,
                    "bf": 5,
                    "hits": 2,
                    "outs": 3,
                    "pitch_count": 14,
                    "runs": 1,
                    "so": 1,
                    "strikes": 12,
                },
                4: {
                    "bb": 0,
                    "bf": 3,
                    "hits": 1,
                    "outs": 3,
                    "pitch_count": 15,
                    "runs": 0,
                    "so": 0,
                    "strikes": 7,
                },
                5: {"bb": 0, "bf": 4, "hits": 1, "outs": 3, "pitch_count": 8, "runs": 1, "so": 0, "strikes": 6},
            },
            "mlb_id": 543208,
            "name": "Sam Gaviglio",
            "pitch_app_id": "TOR201906170_543208",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"2": 2, "3": 14, "4": 15, "5": 8},
            "pitch_count_by_pitch_type": {"CH": 1, "SI": 27, "SL": 11},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_543208_ANA_594777_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "gavigsa01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP02",
                    "inning_label": "t2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "jacksed01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 23,
                    "sub_description": "Sam Gaviglio replaces Edwin Jackson pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_541600_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "kinghni01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP06",
                    "inning_label": "t6",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "gavigsa01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 68,
                    "sub_description": "Nick Kingham replaces Sam Gaviglio pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
            ],
            "team_id": "TOR",
        },
        "RP3": {
            "at_bat_ids": [
                "TOR201906170_06_TOR_592468_ANA_541600_0",
                "TOR201906170_06_TOR_592468_ANA_600303_0",
                "TOR201906170_06_TOR_592468_ANA_545361_0",
                "TOR201906170_06_TOR_592468_ANA_660271_0",
                "TOR201906170_06_TOR_592468_ANA_457708_0",
                "TOR201906170_06_TOR_592468_ANA_594777_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.02,
                "bases_on_balls": 1,
                "batters_faced": 6,
                "earned_runs": 1,
                "fly_balls": 4,
                "game_score": 0,
                "ground_balls": 0,
                "hits": 2,
                "homeruns": 1,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 2,
                "pitch_count": 18,
                "re24_pitch": -0.5,
                "runs": 1,
                "strikeouts": 1,
                "strikes": 11,
                "strikes_contact": 8,
                "strikes_looking": 2,
                "strikes_swinging": 1,
                "unknown_type": 0,
                "wpa_pitch": -0.003,
            },
            "bbref_id": "kinghni01",
            "game_results": "1.0 IP (1ER, 2H, K, BB)",
            "inning_totals": {
                6: {
                    "bb": 1,
                    "bf": 6,
                    "hits": 2,
                    "outs": 3,
                    "pitch_count": 18,
                    "runs": 1,
                    "so": 1,
                    "strikes": 11,
                }
            },
            "mlb_id": 592468,
            "name": "Nick Kingham",
            "pitch_app_id": "TOR201906170_592468",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"6": 18},
            "pitch_count_by_pitch_type": {"CH": 3, "FF": 6, "FT": 3, "KC": 4, "SL": 2},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_06_TOR_592468_ANA_541600_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "kinghni01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP06",
                    "inning_label": "t6",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "gavigsa01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 68,
                    "sub_description": "Nick Kingham replaces Sam Gaviglio pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "phelpda01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "kinghni01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 83,
                    "sub_description": "David Phelps replaces Nick Kingham pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
            ],
            "team_id": "TOR",
        },
        "RP4": {
            "at_bat_ids": [
                "TOR201906170_07_TOR_475479_ANA_664058_0",
                "TOR201906170_07_TOR_475479_ANA_571506_0",
                "TOR201906170_07_TOR_475479_ANA_518960_0",
                "TOR201906170_07_TOR_475479_ANA_541600_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.01,
                "bases_on_balls": 1,
                "batters_faced": 4,
                "earned_runs": 0,
                "fly_balls": 2,
                "game_score": 0,
                "ground_balls": 0,
                "hits": 0,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 0,
                "pitch_count": 13,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 1,
                "strikes": 7,
                "strikes_contact": 2,
                "strikes_looking": 3,
                "strikes_swinging": 2,
                "unknown_type": 0,
                "wpa_pitch": 0.001,
            },
            "bbref_id": "phelpda01",
            "game_results": "1.0 IP (0ER, K, BB)",
            "inning_totals": {
                7: {"bb": 1, "bf": 4, "hits": 0, "outs": 3, "pitch_count": 13, "runs": 0, "so": 1, "strikes": 7}
            },
            "mlb_id": 475479,
            "name": "David Phelps",
            "pitch_app_id": "TOR201906170_475479",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"7": 13},
            "pitch_count_by_pitch_type": {"FC": 3, "FF": 4, "FT": 3, "KC": 3},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_07_TOR_475479_ANA_664058_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "phelpda01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP07",
                    "inning_label": "t7",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "kinghni01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 83,
                    "sub_description": "David Phelps replaces Nick Kingham pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_600303_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "mayzati01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP08",
                    "inning_label": "t8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "phelpda01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 98,
                    "sub_description": "Tim Mayza replaces David Phelps pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
            ],
            "team_id": "TOR",
        },
        "RP5": {
            "at_bat_ids": [
                "TOR201906170_08_TOR_641835_ANA_600303_0",
                "TOR201906170_08_TOR_641835_ANA_545361_0",
                "TOR201906170_08_TOR_641835_ANA_660271_0",
                "TOR201906170_08_TOR_641835_ANA_457708_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.02,
                "bases_on_balls": 0,
                "batters_faced": 4,
                "earned_runs": 0,
                "fly_balls": 1,
                "game_score": 0,
                "ground_balls": 3,
                "hits": 1,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 1,
                "pitch_count": 16,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 0,
                "strikes": 10,
                "strikes_contact": 6,
                "strikes_looking": 2,
                "strikes_swinging": 2,
                "unknown_type": 0,
                "wpa_pitch": 0.001,
            },
            "bbref_id": "mayzati01",
            "game_results": "1.0 IP (0ER, H)",
            "inning_totals": {
                8: {
                    "bb": 0,
                    "bf": 4,
                    "hits": 1,
                    "outs": 3,
                    "pitch_count": 16,
                    "runs": 0,
                    "so": 0,
                    "strikes": 10,
                }
            },
            "mlb_id": 641835,
            "name": "Tim Mayza",
            "pitch_app_id": "TOR201906170_641835",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"8": 16},
            "pitch_count_by_pitch_type": {"FF": 2, "FT": 11, "SL": 3},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_08_TOR_641835_ANA_600303_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "mayzati01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP08",
                    "inning_label": "t8",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "phelpda01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 98,
                    "sub_description": "Tim Mayza replaces David Phelps pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_594777_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "hudsoda01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP09",
                    "inning_label": "t9",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "mayzati01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 116,
                    "sub_description": "Daniel Hudson replaces Tim Mayza pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                },
            ],
            "team_id": "TOR",
        },
        "RP6": {
            "at_bat_ids": [
                "TOR201906170_09_TOR_543339_ANA_594777_0",
                "TOR201906170_09_TOR_543339_ANA_664058_0",
                "TOR201906170_09_TOR_543339_ANA_571506_0",
                "TOR201906170_09_TOR_543339_ANA_518960_0",
                "TOR201906170_09_TOR_543339_ANA_541600_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.03,
                "bases_on_balls": 2,
                "batters_faced": 5,
                "earned_runs": 0,
                "fly_balls": 2,
                "game_score": 0,
                "ground_balls": 1,
                "hits": 0,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 1,
                "pitch_count": 28,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 0,
                "strikes": 17,
                "strikes_contact": 13,
                "strikes_looking": 3,
                "strikes_swinging": 1,
                "unknown_type": 0,
                "wpa_pitch": 0.002,
            },
            "bbref_id": "hudsoda01",
            "game_results": "1.0 IP (0ER, 2BB)",
            "inning_totals": {
                9: {
                    "bb": 2,
                    "bf": 5,
                    "hits": 0,
                    "outs": 3,
                    "pitch_count": 28,
                    "runs": 0,
                    "so": 0,
                    "strikes": 17,
                }
            },
            "mlb_id": 543339,
            "name": "Daniel Hudson",
            "pitch_app_id": "TOR201906170_543339",
            "pitch_app_type": "RP",
            "pitch_count_by_inning": {"9": 28},
            "pitch_count_by_pitch_type": {"CH": 1, "FF": 18, "SL": 9},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_09_TOR_543339_ANA_594777_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "hudsoda01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP09",
                    "inning_label": "t9",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "mayzati01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 116,
                    "sub_description": "Daniel Hudson replaces Tim Mayza pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
        },
        "SP": {
            "at_bat_ids": [
                "TOR201906170_01_TOR_571882_ANA_600303_0",
                "TOR201906170_01_TOR_571882_ANA_545361_0",
                "TOR201906170_01_TOR_571882_ANA_660271_0",
            ],
            "bbref_data": {
                "avg_lvg_index": 0.64,
                "bases_on_balls": 0,
                "batters_faced": 3,
                "earned_runs": 0,
                "fly_balls": 1,
                "game_score": 55,
                "ground_balls": 0,
                "hits": 0,
                "homeruns": 0,
                "inherited_runners": 0,
                "inherited_scored": 0,
                "innings_pitched": 1.0,
                "line_drives": 1,
                "pitch_count": 17,
                "re24_pitch": 0.5,
                "runs": 0,
                "strikeouts": 2,
                "strikes": 11,
                "strikes_contact": 4,
                "strikes_looking": 5,
                "strikes_swinging": 2,
                "unknown_type": 0,
                "wpa_pitch": 0.049,
            },
            "bbref_id": "lawde01",
            "game_results": "1.0 IP (0ER, 2K, GS: 55)",
            "inning_totals": {
                1: {
                    "bb": 0,
                    "bf": 3,
                    "hits": 0,
                    "outs": 3,
                    "pitch_count": 17,
                    "runs": 0,
                    "so": 2,
                    "strikes": 11,
                }
            },
            "mlb_id": 571882,
            "name": "Derek Law",
            "pitch_app_id": "TOR201906170_571882",
            "pitch_app_type": "SP",
            "pitch_count_by_inning": {"1": 17},
            "pitch_count_by_pitch_type": {"CH": 3, "CU": 4, "FF": 6, "SL": 4},
            "substitutions": [
                {
                    "at_bat_id": "TOR201906170_02_TOR_429719_ANA_457708_0",
                    "event_type": "SUBSTITUTION",
                    "incoming_player_id_br": "jacksed01",
                    "incoming_player_pos": "P",
                    "inning_id": "TOR201906170_INN_TOP02",
                    "inning_label": "t2",
                    "lineup_slot": 0,
                    "outgoing_player_id_br": "lawde01",
                    "outgoing_player_pos": "P",
                    "pbp_table_row_number": 12,
                    "sub_description": "Edwin Jackson replaces Derek Law pitching",
                    "sub_type": "pitch",
                    "team_id": "TOR",
                }
            ],
            "team_id": "TOR",
        },
    }
    check_away_team = {
        "batting": check_away_team_batting,
        "pitcher_earned_save": "",
        "pitcher_of_record": "penafe01",
        "pitching": check_away_team_pitching,
        "runs_scored_by_opponent": 5,
        "runs_scored_by_team": 10,
        "team_id": "LAA",
        "team_name": "Los Angeles Angels of Anaheim",
        "team_won": True,
        "total_losses": 37,
        "total_wins": 36,
    }
    check_home_team = {
        "batting": check_home_team_batting,
        "pitcher_earned_save": "",
        "pitcher_of_record": "jacksed01",
        "pitching": check_home_team_pitching,
        "runs_scored_by_opponent": 10,
        "runs_scored_by_team": 5,
        "team_id": "TOR",
        "team_name": "Toronto Blue Jays",
        "team_won": False,
        "total_losses": 46,
        "total_wins": 26,
    }
    check_game_meta = {
        "attendance": 16486,
        "day_night": "Night Game",
        "field_type": "On Turf",
        "first_pitch_clouds": "Cloudy",
        "first_pitch_precipitation": "No Precipitation",
        "first_pitch_temperature": 64,
        "first_pitch_wind": "Wind 8mph from Right to Left",
        "game_duration": "3:06",
        "game_start_time": "06/17/2019 07:07:00 PM -0400",
        "park_name": "Rogers Centre",
        "umpires": [
            {"field_location": "HP", "umpire_name": "Rob Drake"},
            {"field_location": "1B", "umpire_name": "Mike Muchlinski"},
            {"field_location": "2B", "umpire_name": "Mike Winters"},
            {"field_location": "3B", "umpire_name": "Tim Timmons"},
        ],
    }
    check_linescore = [
        {
            "away_team_id": "LAA",
            "away_team_runs_by_inning": [0, 7, 1, 0, 1, 1, 0, 0, 0],
            "away_team_totals": [10, 13, 1],
            "extra_innings": False,
            "game_totals": ["R", "H", "E"],
            "home_team_id": "TOR",
            "home_team_runs_by_inning": [1, 0, 0, 0, 0, 0, 2, 2, 0],
            "home_team_totals": [5, 8, 0],
            "inning_numbers": [1, 2, 3, 4, 5, 6, 7, 8, 9],
        }
    ]
    assert boxscore_data["game_id"] == "TOR201906170"
    assert boxscore_data["away_team"] == check_away_team
    assert boxscore_data["home_team"] == check_home_team
    assert boxscore_data["game_meta"] == check_game_meta
    assert boxscore_data["linescore"] == check_linescore
    assert not boxscore_data["extra_innings"]

    at_bat_id = "TOR201906170_06_TOR_592468_ANA_457708_0"
    pfx = game_data.get_pfx_for_at_bat(at_bat_id)
    assert len(pfx) == 4
